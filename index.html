<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
  <title>üåô SD Islam Dian Didaktika ¬∑ Portal Premium Luminous Night</title>
  
  <!-- Font Awesome 6 Pro -->
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/all.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.2/css/sharp-light.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- AOS Animation -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <style>
    /* ===== RESET & VARIABEL PREMIUM ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #0a4b4b;
      --primary-light: #1a6b6b;
      --primary-soft: #2a7e7e;
      --accent: #ffb347;
      --accent-gradient: linear-gradient(145deg, #d68b2c, #b06a1b);
      --success: #2ecc71;
      --canva: #ff6b9d;
      --night-sky: linear-gradient(145deg, #0a3a3a, #1a5a5a, #2a7a7a);
      --glass-bg: rgba(10, 75, 75, 0.65);
      --glass-border: rgba(255, 180, 70, 0.4);
      --font-head: 'Poppins', sans-serif;
      --font-body: 'Inter', sans-serif;
    }

    body {
      font-family: var(--font-body);
      background: var(--night-sky);
      background-attachment: fixed;
      color: #e6f3ff;
      line-height: 1.6;
      overflow-x: hidden;
      padding: 0;
      margin: 0;
    }

    /* ===== BULAN PURNAMA ===== */
    .moon-premium {
      position: fixed;
      top: 20px;
      right: 60px;
      width: 280px;
      height: 280px;
      background: radial-gradient(circle at 30% 30%, #fffef7, #ffeaa5, #ffd966);
      border-radius: 50%;
      filter: drop-shadow(0 0 60px #ffe68f);
      animation: float 12s infinite ease-in-out;
      z-index: 1;
      opacity: 0.85;
      pointer-events: none;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    /* ===== STARS ===== */
    .star-field {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    
    .star-premium {
      position: absolute;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 20px rgba(255,255,200,0.8);
      animation: twinkle 4s infinite alternate;
    }
    
    @keyframes twinkle {
      0% { opacity: 0.2; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1.2); }
    }

    /* ===== LAYOUT ===== */
    .portal-premium {
      max-width: 1600px;
      margin: 0 auto;
      position: relative;
      z-index: 10;
      padding: 20px 30px;
    }

    /* ===== GLASS CARD ===== */
    .glass-premium {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1.5px solid rgba(255, 255, 255, 0.2);
      border-bottom: 2px solid var(--glass-border);
      border-radius: 48px 16px 48px 16px;
      box-shadow: 0 25px 50px -10px rgba(0,0,0,0.4);
      padding: 35px 40px;
      margin-bottom: 35px;
    }

    /* ===== HEADER DENGAN LOGO - FIXED ===== */
    .header-premium {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 20px;
    }

    .logo-premium {
      display: flex;
      align-items: center;
      gap: 25px;
    }

    .logo-frame {
      width: 100px;
      height: 100px;
      background: white;
      border-radius: 35% 65% 45% 55% / 50% 40% 60% 50%;
      box-shadow: 0 20px 40px rgba(0,20,30,0.5), 0 0 0 5px rgba(255,240,150,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .logo-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .logo-frame span {
      font-size: 54px;
    }

    .logo-text h1 {
      font-family: var(--font-head);
      font-size: 2.2rem;
      font-weight: 800;
      background: linear-gradient(to right, #fffbe6, #ffe9b0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 5px;
    }

    /* ===== RAMADAN BADGE ===== */
    .ramadan-badge {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(255,180,70,0.2);
      padding: 12px 28px;
      border-radius: 60px;
      border: 1.5px solid #ffd966;
    }

    .ramadan-badge i {
      font-size: 30px;
      color: #ffd966;
    }

    .ramadan-badge span {
      font-size: 1.3rem;
      font-weight: 700;
      color: #fff5d6;
    }

    /* ===== SMART ACCESS CARD ===== */
    .smart-access-card {
      background: linear-gradient(145deg, #1a6b6b, #0a4b4b);
      border: 2px solid #ffd966;
      border-radius: 60px 20px 60px 20px;
      padding: 30px 35px;
      margin-bottom: 30px;
      display: none;
      box-shadow: 0 0 40px rgba(255,215,100,0.3);
      animation: slideIn 0.5s ease;
    }

    .smart-access-card.active {
      display: block;
    }

    @keyframes slideIn {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .smart-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
    }

    .smart-header i {
      font-size: 40px;
      color: #ffd966;
    }

    .smart-header h3 {
      font-size: 1.6rem;
      color: #fff5d6;
      font-weight: 700;
    }

    .smart-badge {
      background: #ff6b9d30;
      padding: 8px 18px;
      border-radius: 50px;
      border: 1px solid #ff6b9d;
      color: #ffe6aa;
      font-size: 0.9rem;
    }

    .smart-kelas-info {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 25px;
      padding: 20px;
      background: rgba(0,0,0,0.2);
      border-radius: 40px;
    }

    .smart-kelas-nama {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .smart-kelas-nama i {
      font-size: 50px;
      color: #ffd966;
    }

    .smart-kelas-nama span {
      font-size: 2rem;
      font-weight: 800;
      color: white;
    }

    .smart-buttons {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .smart-btn {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 16px 30px;
      border-radius: 60px;
      text-decoration: none;
      color: white;
      font-weight: 700;
      transition: all 0.3s;
      flex: 1;
      min-width: 200px;
    }

    .smart-btn.excel {
      background: rgba(46,204,113,0.2);
      border: 2px solid #2ecc71;
    }

    .smart-btn.excel:hover {
      background: #2ecc71;
      transform: translateY(-5px);
    }

    .smart-btn.canva {
      background: rgba(255,107,157,0.2);
      border: 2px solid #ff6b9d;
    }

    .smart-btn.canva:hover {
      background: #ff6b9d;
      transform: translateY(-5px);
    }

    .smart-close button {
      background: none;
      border: 1px solid #ffd96660;
      color: #ffe6aa;
      padding: 10px 25px;
      border-radius: 50px;
      cursor: pointer;
      margin-top: 15px;
    }

    /* ===== FOTO KEPSEK ===== */
    .sambutan-container {
      display: flex;
      gap: 45px;
      align-items: center;
      flex-wrap: wrap;
    }

    .foto-kepsek {
      width: 150px;
      height: 150px;
      background: linear-gradient(145deg, #ffb34730, #ff9f1a30);
      border-radius: 40% 60% 30% 70% / 50% 40% 60% 50%;
      border: 4px solid #ffd966;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .foto-kepsek img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .foto-kepsek span {
      font-size: 75px;
    }

    /* ===== GRID KELAS ===== */
    .kelas-grid-premium {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 30px;
      margin-top: 25px;
    }

    .kelas-card-premium {
      background: linear-gradient(145deg, #1a6b6b, #0a4b4b);
      padding: 28px;
      border-radius: 35px 15px 35px 15px;
      border: 1px solid #4c8da0;
      border-bottom: 6px solid #ffb347;
      color: white;
      transition: all 0.3s;
    }

    .kelas-card-premium:hover {
      transform: translateY(-5px);
      border-color: #ffd966;
    }

    .kelas-header {
      display: flex;
      align-items: center;
      gap: 15px;
      border-bottom: 1px solid #ffd96660;
      padding-bottom: 18px;
      margin-bottom: 20px;
    }

    .kelas-header i {
      font-size: 45px;
      color: #ffd966;
    }

    .kelas-header h3 {
      font-size: 1.7rem;
      font-weight: 700;
      color: #fff5d6;
    }

    .kelas-links {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .link-btn {
      display: flex;
      align-items: flex-start;
      gap: 18px;
      padding: 18px 22px;
      background: rgba(255,255,255,0.08);
      border-radius: 60px;
      text-decoration: none;
      color: white;
      transition: all 0.3s;
      border: 1px solid rgba(255,215,100,0.2);
    }

    .link-btn i {
      font-size: 28px;
      width: 35px;
      text-align: center;
    }

    .link-btn.excel i { color: #2ecc71; }
    .link-btn.canva i { color: #ff6b9d; }

    .link-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .link-title {
      font-size: 1.1rem;
      font-weight: 700;
    }

    .link-sub {
      font-size: 0.85rem;
      color: #ffe6aa;
    }

    .link-btn:hover {
      background: rgba(255,180,70,0.15);
      border-color: #ffd966;
      transform: translateX(8px);
    }

    /* ===== BADGE INFO ===== */
    .info-badge {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin-bottom: 20px;
      justify-content: flex-end;
    }

    .badge-item {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(0,0,0,0.3);
      padding: 12px 25px;
      border-radius: 50px;
      border: 1px solid;
    }

    .badge-item.excel { border-color: #2ecc7140; }
    .badge-item.canva { border-color: #ff6b9d40; }

    .badge-text {
      display: flex;
      flex-direction: column;
    }

    .badge-title {
      font-weight: 700;
      color: white;
    }

    .badge-desc {
      font-size: 0.8rem;
      color: #ffe6aa;
    }

    /* ===== PANDUAN SISWA & ORANG TUA - TAMPILAN BARU ===== */
    .panduan-siswa-ortu {
      background: rgba(0,0,0,0.25);
      border-radius: 40px;
      padding: 30px;
      border: 1px solid rgba(255,215,100,0.3);
      margin-top: 20px;
    }

    .panduan-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
    }

    .panduan-header i {
      font-size: 36px;
      color: #ffd966;
    }

    .panduan-header h3 {
      font-size: 1.4rem;
      color: #fff5d6;
    }

    .panduan-list {
      list-style: none;
    }

    .panduan-list li {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 12px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .panduan-list li:last-child {
      border-bottom: none;
    }

    .panduan-list i {
      width: 30px;
      text-align: center;
      color: #ffd966;
    }

    .panduan-badge {
      background: #2ecc7130;
      padding: 4px 12px;
      border-radius: 50px;
      font-size: 0.8rem;
      color: #aaffaa;
      border: 1px solid #2ecc7160;
    }

    /* ===== SETTINGS PANEL - HANYA GURU/ADMIN ===== */
    .settings-dock {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 9999;
    }

    .settings-trigger {
      width: 70px;
      height: 70px;
      background: linear-gradient(145deg, #ffb347, #ff9f1a);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      color: #0a1a2f;
      box-shadow: 0 10px 30px #ffb347, 0 0 0 5px rgba(255,255,255,0.2);
      cursor: pointer;
      border: 2px solid white;
    }

    .settings-panel-premium {
      position: fixed;
      top: 0;
      right: -700px;
      width: 650px;
      height: 100vh;
      background: rgba(6, 22, 33, 0.98);
      backdrop-filter: blur(30px);
      border-left: 3px solid #ffd966;
      z-index: 10000;
      padding: 40px;
      transition: right 0.5s;
      overflow-y: auto;
      border-radius: 50px 0 0 50px;
    }

    .settings-panel-premium.active {
      right: 0;
    }

    .form-section {
      margin-bottom: 30px;
      background: rgba(0,0,0,0.3);
      padding: 28px;
      border-radius: 35px;
    }

    .form-section h3 {
      color: #ffd966;
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .form-group {
      margin-bottom: 22px;
    }

    .form-group label {
      display: block;
      color: #ffe6b3;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-control {
      width: 100%;
      padding: 16px 20px;
      background: rgba(10,30,45,0.9);
      border: 2px solid #2e6d8c;
      border-radius: 50px;
      color: white;
    }

    .btn-premium {
      width: 100%;
      padding: 18px;
      background: linear-gradient(145deg, #d68b2c, #b06a1b);
      border: none;
      border-bottom: 4px solid #ffea9f;
      color: white;
      border-radius: 60px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      cursor: pointer;
    }

    /* ===== FOOTER ===== */
    .footer-premium {
      background: rgba(4, 15, 25, 0.85);
      backdrop-filter: blur(20px);
      border-radius: 70px 20px 70px 20px;
      padding: 45px 50px;
      border: 2px solid #ffd96680;
      margin-top: 50px;
    }

    .social-icon {
      color: white;
      font-size: 28px;
      background: #1a6b6b;
      width: 55px;
      height: 55px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 18px;
      border: 2px solid #ffd966;
      transition: all 0.3s;
    }

    .social-icon:hover {
      background: #ffb347;
      color: #0a1a2f;
      transform: translateY(-5px);
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 768px) {
      .portal-premium { padding: 15px; }
      .logo-text h1 { font-size: 1.6rem; }
      .logo-frame { width: 80px; height: 80px; }
      .kelas-grid-premium { grid-template-columns: 1fr; }
      .settings-panel-premium { width: 100%; }
      .smart-kelas-nama span { font-size: 1.6rem; }
    }
  </style>
</head>
<body>
  <!-- BULAN PURNAMA -->
  <div class="moon-premium"></div>
  
  <!-- BINTANG FIELD -->
  <div class="star-field" id="starField"></div>

  <!-- SETTINGS DOCK - HANYA ADMIN/GURU YANG TAU PASSWORD -->
  <div class="settings-dock">
    <div class="settings-trigger" onclick="toggleSettingsPanel()">
      <i class="fa-sharp fa-solid fa-sliders"></i>
    </div>
  </div>

  <!-- PANEL SETTINGS PREMIUM - KOSTUMISASI HANYA DI SINI -->
  <div id="settingsPanelPremium" class="settings-panel-premium">
    <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ffcd7e; padding-bottom: 20px; margin-bottom: 30px;">
      <h2 style="color: #ffd966; display: flex; align-items: center; gap: 12px;">
        <i class="fa-sharp fa-light fa-moon-stars"></i> Admin Console
      </h2>
      <div style="font-size: 40px; color: #ffcd94; cursor: pointer;" onclick="toggleSettingsPanel()">
        <i class="fa-sharp fa-solid fa-circle-xmark"></i>
      </div>
    </div>

    <!-- PASSWORD SCREEN - WAJIB UNTUK KOSTUMISASI -->
    <div id="passwordScreenPremium" class="form-section" style="text-align: center;">
      <i class="fa-sharp fa-solid fa-lock-keyhole" style="font-size: 70px; color: #ffd966; margin-bottom: 20px;"></i>
      <h3 style="color: white; margin-bottom: 25px;">üîê Akses Administrator</h3>
      <p style="color: #ffe6aa; margin-bottom: 15px;">Khusus Guru & Admin Sekolah</p>
      <input type="password" id="adminPasswordInput" class="form-control" style="margin-bottom: 20px;" placeholder="Masukkan Password" value="admin123">
      <button onclick="verifyPasswordPremium()" class="btn-premium">
        <i class="fa-sharp fa-solid fa-key"></i> Buka Dashboard Kostumisasi
      </button>
      <p style="color: #ffcd94; margin-top: 20px;">Default: <strong>admin123</strong> (dapat diganti)</p>
    </div>

    <!-- FORM KOSTUMISASI - HANYA MUNCUL SETELAH PASSWORD BENAR -->
    <div id="customFormPremium" style="display: none;">
      
      <!-- IDENTITAS SEKOLAH - KOSTUMISASI MANUAL -->
      <div class="form-section">
        <h3><i class="fa-sharp fa-light fa-paint-brush"></i> Identitas Sekolah</h3>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-image"></i> Logo URL (Google Drive)</label>
          <input type="url" id="logoUrlPremium" class="form-control" 
                 value="https://drive.google.com/uc?export=view&id=1ygroUVj2buM4HOeM3ABbZCzMQimdQeub"
                 placeholder="https://drive.google.com/uc?export=view&id=...">
          <p style="color: #ffe6aa; margin-top: 8px; font-size: 0.9rem;">
            <i class="fa-sharp fa-solid fa-circle-info"></i> Gunakan link format: https://drive.google.com/uc?export=view&id=FILE_ID
          </p>
        </div>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-font"></i> Teks Logo (jika URL kosong/tidak muncul)</label>
          <input type="text" id="logoTextPremium" class="form-control" value="üè´ SD Islam Dian Didaktika">
        </div>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-heading"></i> Judul Portal</label>
          <input type="text" id="judulPremium" class="form-control" value="SD Islam Dian Didaktika">
        </div>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-quote-right"></i> Tagline</label>
          <input type="text" id="taglinePremium" class="form-control" value="Mencerdaskan & Membentuk Karakter Islami">
        </div>
      </div>

      <!-- PROFIL KEPALA SEKOLAH -->
      <div class="form-section">
        <h3><i class="fa-sharp fa-light fa-crown"></i> Profil Kepala Sekolah</h3>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-camera-retro"></i> Foto URL</label>
          <input type="url" id="kepsekFotoPremium" class="form-control" placeholder="https://example.com/foto-kepsek.jpg">
        </div>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-emoji"></i> Icon/Emoji (Alternatif)</label>
          <input type="text" id="kepsekAvatarPremium" class="form-control" value="üë©‚Äçüè´">
        </div>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-id-card"></i> Nama Kepala Sekolah</label>
          <input type="text" id="kepsekNamaPremium" class="form-control" value="Dra. Hj. Siti Aminah, M.Pd.I">
        </div>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-quote-left"></i> Narasi Sambutan</label>
          <textarea id="kepsekNarasiPremium" rows="4" class="form-control" style="border-radius: 30px;">Assalamu'alaikum warahmatullahi wabarakatuh. Selamat datang di Portal Premium SD Islam Dian Didaktika. Kami hadirkan jembatan digital terintegrasi untuk orang tua, siswa, dan guru. Silakan akses Google Sheet untuk data akademik dan e-Jurnal Ramadan untuk catatan ibadah putra-putri Anda. Semoga keberkahan selalu menyertai kita.</textarea>
        </div>
      </div>

      <!-- LINK PER KELAS (24 ROMBEL) -->
      <div class="form-section">
        <h3><i class="fa-sharp fa-light fa-link"></i> Link per Kelas (24 Rombel)</h3>
        <p style="color: #ffe6aa; margin-bottom: 20px; padding: 12px 18px; background: rgba(0,0,0,0.3); border-radius: 50px;">
          <i class="fa-sharp fa-light fa-file-excel" style="color: #2ecc71;"></i> Google Sheet (User akun siswa & ortu) &nbsp;&nbsp;|&nbsp;&nbsp;
          <i class="fa-sharp fa-light fa-canva" style="color: #ff6b9d;"></i> e-Jurnal Ramadan (Canva)
        </p>
        
        <div id="kelasLinksContainer" style="display: flex; flex-direction: column; gap: 20px; max-height: 500px; overflow-y: auto; padding-right: 10px;"></div>
      </div>

      <!-- KOSTUMISASI RAMADAN -->
      <div class="form-section">
        <h3><i class="fa-sharp fa-light fa-moon"></i> Kostumisasi Ramadan</h3>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-calendar"></i> Tahun Hijriah</label>
          <input type="text" id="tahunHijriahPremium" class="form-control" value="1446 H">
        </div>
        
        <div class="form-group">
          <label><i class="fa-sharp fa-light fa-moon-stars"></i> Teks Ramadan</label>
          <input type="text" id="ramadanTextPremium" class="form-control" value="Ramadan">
        </div>
      </div>

      <!-- SOSIAL MEDIA -->
      <div class="form-section">
        <h3><i class="fa-sharp fa-light fa-hashtag"></i> Media Sosial</h3>
        <div class="form-group">
          <label><i class="fa-brands fa-instagram"></i> Instagram</label>
          <input type="text" id="igPremium" class="form-control" value="@diandidaktika.official">
        </div>
        <div class="form-group">
          <label><i class="fa-brands fa-facebook"></i> Facebook</label>
          <input type="text" id="fbPremium" class="form-control" value="fb.com/sd.diandidaktika">
        </div>
        <div class="form-group">
          <label><i class="fa-brands fa-youtube"></i> YouTube</label>
          <input type="text" id="ytPremium" class="form-control" value="@diandidaktika">
        </div>
      </div>

      <!-- KEAMANAN - GANTI PASSWORD -->
      <div class="form-section">
        <h3><i class="fa-sharp fa-light fa-shield-keyhole"></i> Keamanan</h3>
        <div class="form-group">
          <label><i class="fa-sharp fa-solid fa-lock"></i> Password Admin Baru</label>
          <input type="text" id="newPasswordPremium" class="form-control" placeholder="Kosongkan jika tidak diubah">
        </div>
      </div>

      <button onclick="applyPremiumSettings()" class="btn-premium" style="margin-bottom: 50px;">
        <i class="fa-sharp fa-solid fa-circle-check"></i> Terapkan Konfigurasi Premium
      </button>
    </div>
  </div>

  <!-- MAIN PORTAL - SD ISLAM DIAN DIDAKTIKA -->
  <div class="portal-premium">
    
    <!-- HEADER DENGAN LOGO DIAN DIDAKTIKA - FIXED VERSION -->
    <header class="glass-premium header-premium" data-aos="fade-up">
      <div class="logo-premium">
        <div class="logo-frame" id="logoFramePremium">
          <!-- LOGO AKAN DIISI JAVASCRIPT DENGAN FALLBACK -->
          <img id="logoImage" src="https://drive.google.com/uc?export=view&id=1ygroUVj2buM4HOeM3ABbZCzMQimdQeub" 
               alt="Logo SD Islam Dian Didaktika" 
               style="width: 100%; height: 100%; object-fit: cover; display: block;"
               onerror="this.style.display='none'; document.getElementById('logoFallback').style.display='flex';">
          <div id="logoFallback" style="display: none; width: 100%; height: 100%; align-items: center; justify-content: center;">
            <span style="font-size: 54px;">üè´</span>
          </div>
        </div>
        <div class="logo-text">
          <h1 id="judulPremiumDisplay">SD Islam Dian Didaktika</h1>
          <span style="color: #ffeab3;" id="taglinePremiumDisplay">
            <i class="fa-sharp fa-light fa-star"></i> Mencerdaskan & Membentuk Karakter Islami
          </span>
        </div>
      </div>
      <div class="ramadan-badge" id="ramadanBadge">
        <i class="fa-sharp fa-light fa-moon"></i>
        <span id="ramadanHeaderDisplay">1446 H Ramadan</span>
      </div>
    </header>

    <!-- SMART ACCESS CARD -->
    <div id="smartAccessCard" class="smart-access-card">
      <div class="smart-header">
        <i class="fa-sharp fa-light fa-rocket"></i>
        <h3>Akses Cepat Smart</h3>
        <span class="smart-badge" id="smartBadge">‚ö° Favoritmu</span>
      </div>
      
      <div id="smartKelasContainer">
        <!-- DIISI JAVASCRIPT -->
      </div>
      
      <div class="smart-close">
        <button onclick="hideSmartCard()">
          <i class="fa-sharp fa-light fa-clock"></i> Nanti Saja
        </button>
      </div>
    </div>

    <!-- SAMBUTAN KEPALA SEKOLAH -->
    <section class="glass-premium" data-aos="fade-up" data-aos-delay="50">
      <div class="sambutan-container">
        <div class="foto-kepsek" id="fotoKepsekContainer">
          <span id="kepsekAvatarDisplay">üë©‚Äçüè´</span>
        </div>
        <div class="sambutan-content">
          <h2 style="color: #fff5d6; margin-bottom: 15px;">
            <i class="fa-sharp fa-light fa-crown"></i> Sambutan Kepala Sekolah
          </h2>
          <div class="sambutan-nama" id="kepsekNamaDisplay" style="font-size: 1.3rem; color: #ffe6a3; margin-bottom: 15px;">
            <i class="fa-sharp fa-light fa-id-card"></i> Dra. Hj. Siti Aminah, M.Pd.I
          </div>
          <div class="sambutan-narasi" id="kepsekNarasiDisplay" style="background: rgba(0,0,0,0.25); padding: 25px; border-radius: 30px; border-left: 6px solid #ffd966;">
            Assalamu'alaikum warahmatullahi wabarakatuh. Selamat datang di Portal Premium SD Islam Dian Didaktika. Kami hadirkan jembatan digital terintegrasi untuk orang tua, siswa, dan guru. Silakan akses Google Sheet untuk data akademik dan e-Jurnal Ramadan untuk catatan ibadah putra-putri Anda. Semoga keberkahan selalu menyertai kita.
          </div>
        </div>
      </div>
    </section>

    <!-- INFO BADGE -->
    <div class="info-badge">
      <div class="badge-item excel">
        <i class="fa-sharp fa-light fa-file-excel" style="color: #2ecc71; font-size: 24px;"></i>
        <div class="badge-text">
          <span class="badge-title">Google Sheet</span>
          <span class="badge-desc">User akun siswa & ortu</span>
        </div>
      </div>
      <div class="badge-item canva">
        <i class="fa-sharp fa-light fa-canva" style="color: #ff6b9d; font-size: 24px;"></i>
        <div class="badge-text">
          <span class="badge-title">e-Jurnal Ramadan</span>
          <span class="badge-desc">Canva</span>
        </div>
      </div>
    </div>

    <!-- GRID KELAS 24 ROMBEL -->
    <section class="glass-premium" data-aos="fade-up" data-aos-delay="100">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
        <h2 style="color: #fff5d6; display: flex; align-items: center; gap: 15px;">
          <i class="fa-sharp fa-light fa-layer-group"></i> Akses Kelas 1A - 6D (24 Rombel)
        </h2>
      </div>
      
      <div class="kelas-grid-premium" id="kelasGridPremium"></div>
      
      <!-- INFORMASI RAMADAN -->
      <div style="margin-top: 35px; padding: 25px; background: rgba(255,180,70,0.1); border-radius: 40px; border: 1px dashed #ffd966; text-align: center;">
        <i class="fa-sharp fa-light fa-moon" style="font-size: 32px; color: #ffd966; margin-right: 12px;"></i>
        <span style="color: #ffe6aa; font-size: 1.2rem; font-weight: 600;">
          ‚ú® e-Jurnal Ramadan <span id="ramadanFooterDisplay" style="color: #ffd966;">1446 H</span> ¬∑ Klik tombol e-Jurnal Ramadan di setiap kelas
        </span>
      </div>
    </section>

    <!-- PANDUAN SINGKAT UNTUK SISWA & ORANG TUA - TAMBAHKAN DI SINI -->
    <section class="glass-premium" data-aos="fade-up" data-aos-delay="150">
      <div class="panduan-siswa-ortu">
        <div class="panduan-header">
          <i class="fa-sharp fa-light fa-users"></i>
          <h3>Panduan untuk Siswa & Orang Tua</h3>
          <span class="panduan-badge">Tanpa Password</span>
        </div>
        <ul class="panduan-list">
          <li>
            <i class="fa-sharp fa-light fa-1-circle"></i>
            <span>Pilih kelas anak Anda (1A - 6D) di grid bawah</span>
          </li>
          <li>
            <i class="fa-sharp fa-light fa-2-circle"></i>
            <span>Klik <strong style="color: #2ecc71;">Google Sheet</strong> untuk lihat <strong style="color: #ffe6aa;">akun user name</strong></span>
          </li>
          <li>
            <i class="fa-sharp fa-light fa-3-circle"></i>
            <span>Klik <strong style="color: #ff6b9d;">e-Jurnal Ramadan</strong> untuk isi catatan ibadah harian</span>
          </li>
          <li>
            <i class="fa-sharp fa-light fa-4-circle"></i>
            <span>Akses cepat otomatis muncul untuk kelas favorit</span>
          </li>
          <li>
            <i class="fa-sharp fa-light fa-check-circle" style="color: #2ecc71;"></i>
            <span><strong>Tanpa login</strong> - langsung klik, langsung akses</span>
          </li>
        </ul>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer-premium">
      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 30px;">
        <div style="display: flex; gap: 25px; align-items: center;">
          <div style="width: 85px; height: 85px; background: rgba(255,255,255,0.1); border-radius: 25px; display: flex; align-items: center; justify-content: center; overflow: hidden; border: 2px solid #ffd966;" id="footerLogoPremium">
            <img id="footerLogoImage" src="https://drive.google.com/uc?export=view&id=1ygroUVj2buM4HOeM3ABbZCzMQimdQeub" 
                 alt="Logo SD Islam Dian Didaktika"
                 style="width: 100%; height: 100%; object-fit: cover; display: block;"
                 onerror="this.style.display='none'; document.getElementById('footerLogoFallback').style.display='flex';">
            <div id="footerLogoFallback" style="display: none; width: 100%; height: 100%; align-items: center; justify-content: center;">
              <span style="font-size: 48px;">üè´</span>
            </div>
          </div>
          <div>
            <h3 style="color: white; font-size: 1.5rem; margin-bottom: 5px;" id="footerNamaPremium">SD Islam Dian Didaktika</h3>
            <span style="color: #ffe6aa;" id="footerTaglinePremium">Mencerdaskan & Membentuk Karakter Islami</span>
          </div>
        </div>
        <div style="display: flex; gap: 15px;">
          <a href="#" id="igLinkPremium" class="social-icon" target="_blank"><i class="fa-brands fa-instagram"></i></a>
          <a href="#" id="fbLinkPremium" class="social-icon" target="_blank"><i class="fa-brands fa-facebook"></i></a>
          <a href="#" id="ytLinkPremium" class="social-icon" target="_blank"><i class="fa-brands fa-youtube"></i></a>
        </div>
      </div>
      <hr style="border: 1px solid #ffd96630; margin: 35px 0 20px;">
      <p style="text-align: center; color: #ffeab3;">¬© <span id="footerTahunDisplay">1446 H</span> ¬∑ SD Islam Dian Didaktika ¬∑ Islamic Premium School</p>
    </footer>
  </div>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <script>
    // ============================================
    // KONFIGURASI PREMIUM - SD ISLAM DIAN DIDAKTIKA
    // ============================================
    
    'use strict';

    // ----- DATA 24 ROMBEL -----
    const KELAS_SD = [];
    for (let tingkat = 1; tingkat <= 6; tingkat++) {
      for (let rombel of ['A', 'B', 'C', 'D']) {
        KELAS_SD.push({
          nama: `Kelas ${tingkat}${rombel}`,
          id: `kelas${tingkat}${rombel}`
        });
      }
    }

    // ----- ADMIN PASSWORD -----
    let adminPassword = "admin123";

    // ============================================
    // FUNGSI LOGO - FIXED 100% WORKING
    // ============================================
    
    function updateLogo(url, text) {
      try {
        // ELEMEN LOGO
        const logoImg = document.getElementById('logoImage');
        const logoFallback = document.getElementById('logoFallback');
        const footerImg = document.getElementById('footerLogoImage');
        const footerFallback = document.getElementById('footerLogoFallback');
        
        if (!logoImg || !logoFallback || !footerImg || !footerFallback) return;
        
        if (url && url.trim() !== '') {
          // SET SRC GAMBAR
          logoImg.src = url.trim();
          logoImg.style.display = 'block';
          logoFallback.style.display = 'none';
          
          footerImg.src = url.trim();
          footerImg.style.display = 'block';
          footerFallback.style.display = 'none';
          
          // HANDLE ERROR
          logoImg.onerror = function() {
            this.style.display = 'none';
            logoFallback.style.display = 'flex';
            logoFallback.innerHTML = `<span style="font-size: 54px;">${text || 'üè´'}</span>`;
          };
          
          footerImg.onerror = function() {
            this.style.display = 'none';
            footerFallback.style.display = 'flex';
            footerFallback.innerHTML = `<span style="font-size: 48px;">${text || 'üè´'}</span>`;
          };
        } else {
          // PAKAI FALLBACK TEKS
          logoImg.style.display = 'none';
          logoFallback.style.display = 'flex';
          logoFallback.innerHTML = `<span style="font-size: 54px;">${text || 'üè´'}</span>`;
          
          footerImg.style.display = 'none';
          footerFallback.style.display = 'flex';
          footerFallback.innerHTML = `<span style="font-size: 48px;">${text || 'üè´'}</span>`;
        }
      } catch (error) {
        console.error('Error update logo:', error);
      }
    }

    // ============================================
    // FUNGSI FOTO KEPSEK
    // ============================================
    
    function updateFotoKepsek(url, emoji) {
      try {
        const container = document.getElementById('fotoKepsekContainer');
        if (!container) return;
        
        container.innerHTML = '';
        
        if (url && url.trim() !== '') {
          const img = document.createElement('img');
          img.src = url.trim();
          img.alt = 'Kepala Sekolah';
          img.style.width = '100%';
          img.style.height = '100%';
          img.style.objectFit = 'cover';
          
          img.onerror = function() {
            this.parentElement.innerHTML = `<span style="font-size: 75px;">${emoji || 'üë©‚Äçüè´'}</span>`;
          };
          
          container.appendChild(img);
        } else {
          container.innerHTML = `<span style="font-size: 75px;">${emoji || 'üë©‚Äçüè´'}</span>`;
        }
      } catch (error) {
        console.error('Error update foto:', error);
      }
    }

    // ============================================
    // GENERATE INPUT LINK PER KELAS
    // ============================================
    
    function generateKelasInputs() {
      try {
        const container = document.getElementById('kelasLinksContainer');
        if (!container) return;
        
        let html = '';
        KELAS_SD.forEach(k => {
          html += `
            <div style="background: rgba(0,0,0,0.35); border-radius: 25px; padding: 22px; border: 1px solid #ffd96640;">
              <h4 style="color: #ffd966; margin-bottom: 18px; display: flex; align-items: center; gap: 12px;">
                <i class="fa-sharp fa-light fa-users-class"></i> ${k.nama}
              </h4>
              <div style="margin-bottom: 18px;">
                <label style="display: block; color: #ffe6aa; margin-bottom: 6px;">
                  <i class="fa-sharp fa-light fa-file-excel" style="color: #2ecc71;"></i> Google Sheet
                </label>
                <input type="url" id="sheet_${k.id}" style="width: 100%; padding: 14px; background: rgba(10,30,45,0.9); border: 2px solid #2e6d8c; border-radius: 40px; color: white;" 
                  value="https://docs.google.com/spreadsheets/d/${k.nama.replace(' ','')}">
              </div>
              <div>
                <label style="display: block; color: #ffe6aa; margin-bottom: 6px;">
                  <i class="fa-sharp fa-light fa-canva" style="color: #ff6b9d;"></i> e-Jurnal Ramadan Canva
                </label>
                <input type="url" id="canva_${k.id}" style="width: 100%; padding: 14px; background: rgba(10,30,45,0.9); border: 2px solid #2e6d8c; border-radius: 40px; color: white;" 
                  value="https://www.canva.com/design/${k.nama.replace(' ','')}">
              </div>
            </div>
          `;
        });
        container.innerHTML = html;
      } catch (error) {
        console.error('Error generate inputs:', error);
      }
    }

    // ============================================
    // RENDER KELAS GRID
    // ============================================
    
    function renderKelasPremium() {
      try {
        const container = document.getElementById('kelasGridPremium');
        if (!container) return;
        
        let html = '';
        KELAS_SD.forEach(k => {
          const sheetInput = document.getElementById(`sheet_${k.id}`);
          const canvaInput = document.getElementById(`canva_${k.id}`);
          
          const sheetUrl = sheetInput ? sheetInput.value : `https://docs.google.com/spreadsheets/d/${k.nama.replace(' ','')}`;
          const canvaUrl = canvaInput ? canvaInput.value : `https://www.canva.com/design/${k.nama.replace(' ','')}`;
          
          html += `
            <div class="kelas-card-premium">
              <div class="kelas-header">
                <i class="fa-sharp fa-light fa-users-class"></i>
                <h3>${k.nama}</h3>
              </div>
              <div class="kelas-links">
                <a href="${sheetUrl}" class="link-btn excel" target="_blank" rel="noopener noreferrer" 
                   onclick="recordClassClick('${k.id}', '${k.nama}', '${sheetUrl}', '${canvaUrl}')">
                  <i class="fa-sharp fa-light fa-file-excel"></i>
                  <div class="link-content">
                    <span class="link-title">Google Sheet</span>
                    <span class="link-sub">User akun siswa & ortu</span>
                  </div>
                  <i class="fa-sharp fa-light fa-arrow-up-right-from-square"></i>
                </a>
                <a href="${canvaUrl}" class="link-btn canva" target="_blank" rel="noopener noreferrer"
                   onclick="recordClassClick('${k.id}', '${k.nama}', '${sheetUrl}', '${canvaUrl}')">
                  <i class="fa-sharp fa-light fa-canva"></i>
                  <div class="link-content">
                    <span class="link-title">e-Jurnal Ramadan</span>
                    <span class="link-sub">Canva</span>
                  </div>
                  <i class="fa-sharp fa-light fa-arrow-up-right-from-square"></i>
                </a>
              </div>
            </div>
          `;
        });
        
        container.innerHTML = html;
      } catch (error) {
        console.error('Error render kelas:', error);
      }
    }

    // ============================================
    // SMART ACCESS SYSTEM
    // ============================================
    
    const STORAGE_KEYS = {
      CLICK_COUNTS: 'dian_class_clicks',
      LAST_ACCESS: 'dian_last_class',
      VISIT_COUNT: 'dian_visit_count',
      CARD_HIDDEN: 'dian_card_hidden'
    };

    function initSmartStorage() {
      try {
        if (!localStorage.getItem(STORAGE_KEYS.VISIT_COUNT)) {
          localStorage.setItem(STORAGE_KEYS.VISIT_COUNT, '1');
        } else {
          let count = parseInt(localStorage.getItem(STORAGE_KEYS.VISIT_COUNT) || '1');
          count++;
          localStorage.setItem(STORAGE_KEYS.VISIT_COUNT, count);
        }
        
        if (!localStorage.getItem(STORAGE_KEYS.CLICK_COUNTS)) {
          const initialCounts = {};
          KELAS_SD.forEach(k => { initialCounts[k.id] = 0; });
          localStorage.setItem(STORAGE_KEYS.CLICK_COUNTS, JSON.stringify(initialCounts));
        }
      } catch (error) {
        console.error('Error init smart storage:', error);
      }
    }

    window.recordClassClick = function(kelasId, kelasNama, sheetUrl, canvaUrl) {
      try {
        const counts = JSON.parse(localStorage.getItem(STORAGE_KEYS.CLICK_COUNTS) || '{}');
        counts[kelasId] = (counts[kelasId] || 0) + 1;
        localStorage.setItem(STORAGE_KEYS.CLICK_COUNTS, JSON.stringify(counts));
        
        localStorage.setItem(STORAGE_KEYS.LAST_ACCESS, JSON.stringify({
          id: kelasId,
          nama: kelasNama,
          sheet: sheetUrl,
          canva: canvaUrl,
          timestamp: new Date().toISOString()
        }));
        
        setTimeout(() => renderSmartCard(), 100);
      } catch (error) {
        console.error('Error record click:', error);
      }
    };

    function getFavoriteClass() {
      try {
        const counts = JSON.parse(localStorage.getItem(STORAGE_KEYS.CLICK_COUNTS) || '{}');
        let maxClicks = 0;
        let favoriteId = null;
        
        Object.keys(counts).forEach(id => {
          if (counts[id] > maxClicks) {
            maxClicks = counts[id];
            favoriteId = id;
          }
        });
        
        if (favoriteId && maxClicks > 0) {
          const kelasData = KELAS_SD.find(k => k.id === favoriteId);
          return kelasData ? { ...kelasData, clicks: maxClicks } : null;
        }
        return null;
      } catch (error) {
        return null;
      }
    }

    function getLastAccessedClass() {
      try {
        const lastAccess = localStorage.getItem(STORAGE_KEYS.LAST_ACCESS);
        return lastAccess ? JSON.parse(lastAccess) : null;
      } catch (error) {
        return null;
      }
    }

    function shouldShowSmartCard() {
      try {
        const cardHidden = localStorage.getItem(STORAGE_KEYS.CARD_HIDDEN);
        if (cardHidden === 'true') {
          const hiddenTime = localStorage.getItem(STORAGE_KEYS.CARD_HIDDEN + '_time');
          if (hiddenTime) {
            const hoursSinceHidden = (new Date() - new Date(hiddenTime)) / (1000 * 60 * 60);
            if (hoursSinceHidden < 24) return false;
          }
        }
        
        const visitCount = parseInt(localStorage.getItem(STORAGE_KEYS.VISIT_COUNT) || '0');
        const favorite = getFavoriteClass();
        const lastAccess = getLastAccessedClass();
        
        return (visitCount >= 3) || (favorite !== null) || (lastAccess !== null);
      } catch (error) {
        return false;
      }
    }

    function renderSmartCard() {
      try {
        const smartCard = document.getElementById('smartAccessCard');
        const smartContainer = document.getElementById('smartKelasContainer');
        
        if (!smartCard || !smartContainer || !shouldShowSmartCard()) {
          smartCard.classList.remove('active');
          return;
        }
        
        const favorite = getFavoriteClass();
        const lastAccess = getLastAccessedClass();
        let targetKelas = null;
        let sourceText = '';
        
        if (favorite) {
          targetKelas = favorite;
          sourceText = `‚≠ê Kelas Favoritmu (${favorite.clicks}x)`;
        } else if (lastAccess) {
          targetKelas = lastAccess;
          sourceText = `üïê Kelas Terakhir`;
        } else {
          smartCard.classList.remove('active');
          return;
        }
        
        const sheetInput = document.getElementById(`sheet_${targetKelas.id}`);
        const canvaInput = document.getElementById(`canva_${targetKelas.id}`);
        
        const sheetUrl = sheetInput ? sheetInput.value : '#';
        const canvaUrl = canvaInput ? canvaInput.value : '#';
        
        document.getElementById('smartBadge').innerHTML = `‚ö° ${sourceText}`;
        
        smartContainer.innerHTML = `
          <div class="smart-kelas-info">
            <div class="smart-kelas-nama">
              <i class="fa-sharp fa-light fa-users-class"></i>
              <span>${targetKelas.nama}</span>
            </div>
            <div class="smart-stats">
              <span><i class="fa-sharp fa-light fa-chart-line"></i> ${targetKelas.clicks || 0} klik</span>
            </div>
          </div>
          <div class="smart-buttons">
            <a href="${sheetUrl}" class="smart-btn excel" target="_blank" 
               onclick="recordClassClick('${targetKelas.id}', '${targetKelas.nama}', '${sheetUrl}', '${canvaUrl}')">
              <i class="fa-sharp fa-light fa-file-excel"></i>
              <div class="link-content">
                <span class="link-title">Google Sheet</span>
                <span class="link-sub">User akun siswa & ortu</span>
              </div>
            </a>
            <a href="${canvaUrl}" class="smart-btn canva" target="_blank"
               onclick="recordClassClick('${targetKelas.id}', '${targetKelas.nama}', '${sheetUrl}', '${canvaUrl}')">
              <i class="fa-sharp fa-light fa-canva"></i>
              <div class="link-content">
                <span class="link-title">e-Jurnal Ramadan</span>
                <span class="link-sub">Canva</span>
              </div>
            </a>
          </div>
        `;
        
        smartCard.classList.add('active');
      } catch (error) {
        console.error('Error render smart card:', error);
      }
    }

    window.hideSmartCard = function() {
      try {
        document.getElementById('smartAccessCard').classList.remove('active');
        localStorage.setItem(STORAGE_KEYS.CARD_HIDDEN, 'true');
        localStorage.setItem(STORAGE_KEYS.CARD_HIDDEN + '_time', new Date().toISOString());
      } catch (error) {
        console.error('Error hide smart card:', error);
      }
    };

    // ============================================
    // UPDATE FUNCTIONS
    // ============================================
    
    function updateSambutan() {
      try {
        const nama = document.getElementById('kepsekNamaPremium')?.value || 'Dra. Hj. Siti Aminah, M.Pd.I';
        const avatar = document.getElementById('kepsekAvatarPremium')?.value || 'üë©‚Äçüè´';
        const narasi = document.getElementById('kepsekNarasiPremium')?.value || '';
        const foto = document.getElementById('kepsekFotoPremium')?.value || '';
        
        const namaDisplay = document.getElementById('kepsekNamaDisplay');
        if (namaDisplay) namaDisplay.innerHTML = `<i class="fa-sharp fa-light fa-id-card"></i> ${nama}`;
        
        const narasiDisplay = document.getElementById('kepsekNarasiDisplay');
        if (narasiDisplay) narasiDisplay.innerText = narasi;
        
        updateFotoKepsek(foto, avatar);
      } catch (error) {
        console.error('Error update sambutan:', error);
      }
    }

    function updateRamadan() {
      try {
        const tahun = document.getElementById('tahunHijriahPremium')?.value || '1446 H';
        const teks = document.getElementById('ramadanTextPremium')?.value || 'Ramadan';
        
        const headerDisplay = document.getElementById('ramadanHeaderDisplay');
        if (headerDisplay) headerDisplay.innerHTML = `${tahun} ${teks}`;
        
        const footerDisplay = document.getElementById('ramadanFooterDisplay');
        if (footerDisplay) footerDisplay.innerHTML = tahun;
        
        const footerTahun = document.getElementById('footerTahunDisplay');
        if (footerTahun) footerTahun.innerHTML = tahun;
      } catch (error) {
        console.error('Error update ramadan:', error);
      }
    }

    // ============================================
    // APPLY SETTINGS - KOSTUMISASI DARI PANEL
    // ============================================
    
    window.applyPremiumSettings = function() {
      try {
        // 1. UPDATE LOGO
        const logoUrl = document.getElementById('logoUrlPremium')?.value;
        const logoText = document.getElementById('logoTextPremium')?.value || 'üè´ SD Islam Dian Didaktika';
        updateLogo(logoUrl, logoText);
        
        // 2. UPDATE JUDUL & TAGLINE
        const judul = document.getElementById('judulPremium')?.value || 'SD Islam Dian Didaktika';
        const tagline = document.getElementById('taglinePremium')?.value || 'Mencerdaskan & Membentuk Karakter Islami';
        
        document.getElementById('judulPremiumDisplay').innerText = judul;
        document.getElementById('taglinePremiumDisplay').innerHTML = `<i class="fa-sharp fa-light fa-star"></i> ${tagline}`;
        document.getElementById('footerNamaPremium').innerText = judul;
        document.getElementById('footerTaglinePremium').innerText = tagline;
        
        // 3. UPDATE SAMBUTAN
        updateSambutan();
        
        // 4. UPDATE RAMADAN
        updateRamadan();
        
        // 5. UPDATE SOSIAL MEDIA
        const ig = document.getElementById('igPremium')?.value || '@diandidaktika.official';
        document.getElementById('igLinkPremium').href = ig.startsWith('http') ? ig : 'https://instagram.com/' + ig.replace('@','');
        
        const fb = document.getElementById('fbPremium')?.value || 'fb.com/sd.diandidaktika';
        document.getElementById('fbLinkPremium').href = fb.startsWith('http') ? fb : 'https://facebook.com/' + fb.replace('fb.com/','');
        
        const yt = document.getElementById('ytPremium')?.value || '@diandidaktika';
        document.getElementById('ytLinkPremium').href = yt.startsWith('http') ? yt : 'https://youtube.com/' + yt.replace('@','');
        
        // 6. UPDATE PASSWORD
        const newPwd = document.getElementById('newPasswordPremium')?.value;
        if (newPwd && newPwd.trim() !== '') {
          adminPassword = newPwd.trim();
          alert(`‚úÖ Password admin telah diganti!`);
        }
        
        // 7. RENDER KELAS
        renderKelasPremium();
        renderSmartCard();
        
        alert('‚úÖ Konfigurasi SD Islam Dian Didaktika berhasil diterapkan!');
        toggleSettingsPanel();
        
      } catch (error) {
        console.error('Error apply settings:', error);
        alert('‚ùå Terjadi kesalahan, silakan coba lagi.');
      }
    };

    // ============================================
    // VERIFY PASSWORD - UNTUK KOSTUMISASI
    // ============================================
    
    window.verifyPasswordPremium = function() {
      try {
        const pwd = document.getElementById('adminPasswordInput')?.value;
        if (pwd === adminPassword) {
          document.getElementById('passwordScreenPremium').style.display = 'none';
          document.getElementById('customFormPremium').style.display = 'block';
          generateKelasInputs();
          setTimeout(() => {
            renderKelasPremium();
            renderSmartCard();
          }, 50);
        } else {
          alert('‚ùå Password salah! Akses hanya untuk Guru & Admin.');
        }
      } catch (error) {
        console.error('Error verify password:', error);
      }
    };

    // ============================================
    // TOGGLE SETTINGS PANEL
    // ============================================
    
    window.toggleSettingsPanel = function() {
      document.getElementById('settingsPanelPremium').classList.toggle('active');
    };

    // ============================================
    // GENERATE STARS
    // ============================================
    
    function generateStars() {
      try {
        const starField = document.getElementById('starField');
        if (!starField) return;
        starField.innerHTML = '';
        for (let i = 0; i < 120; i++) {
          let star = document.createElement('div');
          star.className = 'star-premium';
          star.style.top = Math.random() * 100 + '%';
          star.style.left = Math.random() * 100 + '%';
          star.style.width = (Math.random() * 4 + 2) + 'px';
          star.style.height = star.style.width;
          star.style.animationDelay = (Math.random() * 5) + 's';
          starField.appendChild(star);
        }
      } catch (error) {
        console.error('Error generate stars:', error);
      }
    }

    // ============================================
    // INITIALIZATION
    // ============================================
    
    window.onload = function() {
      try {
        // INIT AOS
        AOS.init({ duration: 800, once: true });
        
        // GENERATE STARS
        generateStars();
        
        // GENERATE INPUT KELAS
        generateKelasInputs();
        
        // RENDER KELAS
        renderKelasPremium();
        
        // INIT SMART STORAGE
        initSmartStorage();
        
        // SET DEFAULT LOGO - 100% WORKING
        const dianLogoUrl = "https://drive.google.com/uc?export=view&id=1ygroUVj2buM4HOeM3ABbZCzMQimdQeub";
        updateLogo(dianLogoUrl, 'üè´ SD Islam Dian Didaktika');
        
        // SET DEFAULT VALUES DI FORM
        const defaults = {
          logoUrlPremium: dianLogoUrl,
          logoTextPremium: 'üè´ SD Islam Dian Didaktika',
          judulPremium: 'SD Islam Dian Didaktika',
          taglinePremium: 'Mencerdaskan & Membentuk Karakter Islami',
          kepsekNamaPremium: 'Dra. Hj. Siti Aminah, M.Pd.I',
          kepsekAvatarPremium: 'üë©‚Äçüè´',
          tahunHijriahPremium: '1446 H',
          ramadanTextPremium: 'Ramadan',
          igPremium: '@diandidaktika.official',
          fbPremium: 'fb.com/sd.diandidaktika',
          ytPremium: '@diandidaktika'
        };
        
        Object.keys(defaults).forEach(id => {
          const el = document.getElementById(id);
          if (el) el.value = defaults[id];
        });
        
        // UPDATE RAMADAN
        updateRamadan();
        
        // RENDER SMART CARD
        setTimeout(() => {
          renderSmartCard();
        }, 500);
        
        console.log('‚úÖ Portal SD Islam Dian Didaktika siap digunakan!');
        
      } catch (error) {
        console.error('Error initialization:', error);
      }
    };
  </script>
</body>
</html>